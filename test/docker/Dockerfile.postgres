FROM postgres:16
ENV POSTGRES_USER=testuser
ENV POSTGRES_PASSWORD=testpassword

# Copy migration files (single source of truth for schema)
COPY sql/migrations/ /migrations/

# Copy the database setup script
COPY --chmod=0755 test/docker/init_test_db.sh /docker-entrypoint-initdb.d/init_test_db.sh